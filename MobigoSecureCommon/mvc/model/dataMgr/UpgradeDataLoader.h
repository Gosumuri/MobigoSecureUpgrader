#pragma once

////////////////////////////////////////////////////////////////////////////////
// include
////////////////////////////////////////////////////////////////////////////////

#include "UpgradeData.h"
#include "UpgradeItem.h"

#include "JsonBox.h"

////////////////////////////////////////////////////////////////////////////////
// define
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// macro
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// class declare
////////////////////////////////////////////////////////////////////////////////


class AFX_EXT_CLASS CUpgradeDataLoader 
{
public:
	CUpgradeDataLoader();   // protected constructor used by dynamic creation
	virtual ~CUpgradeDataLoader();

public:
	void Init();
	void Exit();

////////////////////////////////////////////////////////////////////////////////
// member data
////////////////////////////////////////////////////////////////////////////////

private:

////////////////////////////////////////////////////////////////////////////////
// member function
////////////////////////////////////////////////////////////////////////////////

// get/set
public:

// load
public:

    CUpgradeData*       Load( CString strUrl );
    CUpgradeData*       Parse( CString strUpgradeListJson );
    CUpgradeItem*       ParseItem( CString strTab, JsonBox::Object joItem );
};