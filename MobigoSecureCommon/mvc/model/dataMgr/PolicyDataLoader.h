#pragma once

////////////////////////////////////////////////////////////////////////////////
// include
////////////////////////////////////////////////////////////////////////////////

#include <string>
#include "JsonBox.h"
#include "PolicyData.h"

////////////////////////////////////////////////////////////////////////////////
// define
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// macro
////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////////
// class declare
////////////////////////////////////////////////////////////////////////////////


class AFX_EXT_CLASS CPolicyDataLoader 
{
public:
	CPolicyDataLoader();   // protected constructor used by dynamic creation
	virtual ~CPolicyDataLoader();

public:
	void Init();
	void Exit();

////////////////////////////////////////////////////////////////////////////////
// member data
////////////////////////////////////////////////////////////////////////////////

private:

////////////////////////////////////////////////////////////////////////////////
// member function
////////////////////////////////////////////////////////////////////////////////

// get/set
public:

// load
public:
    CPolicyData*        Load( CString strUrl );
    CPolicyData*        Parse( CString strPolicyListJson );
    CPolicyItem*        ParseItem( CString strTab, JsonBox::Object joItem );
};